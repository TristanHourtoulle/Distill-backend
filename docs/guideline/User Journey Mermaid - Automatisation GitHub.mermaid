flowchart TD
    subgraph ONBOARDING["ðŸš€ Onboarding"]
        A[Inscription / Connexion] --> B[Connexion OAuth GitHub]
        B --> C[SÃ©lection du repo Ã  analyser]
        C --> D[Configuration projet]
        D --> D1[RÃ¨gles de code / Conventions]
        D --> D2[Stack technique dÃ©tectÃ©e]
        D --> D3[IntÃ©grations externes<br/>GitHub Issues / Notion / Jira]
    end

    subgraph INDEXATION["ðŸ” Indexation du repo"]
        D1 & D2 & D3 --> E[Indexation automatique]
        E --> E1[Arborescence complÃ¨te]
        E --> E2[Signatures fonctions/composants]
        E --> E3[Patterns dÃ©tectÃ©s]
        E --> E4[DÃ©pendances & imports]
        E1 & E2 & E3 & E4 --> F[/"Carte projet" gÃ©nÃ©rÃ©e<br/>~2-5k tokens/]
    end

    subgraph INPUT["ðŸ“¥ EntrÃ©e rÃ©union"]
        F --> G{RÃ©ception rÃ©sumÃ© rÃ©union}
        G --> G1[Upload fichier]
        G --> G2[Copier/coller texte]
        G --> G3[Webhook automatique]
    end

    subgraph EXTRACTION["ðŸ§  Extraction des tÃ¢ches"]
        G1 & G2 & G3 --> H[LLM Parse le rÃ©sumÃ©]
        H --> I[Liste de tÃ¢ches brutes]
        I --> J[CatÃ©gorisation automatique]
        J --> J1[ðŸ†• Nouvelle feature]
        J --> J2[ðŸ› Bug fix]
        J --> J3[âœï¸ Modification existante]
        J --> J4[ðŸ“š Documentation]
    end

    subgraph IMPACT["âš¡ Analyse d'impact rapide"]
        J1 & J2 & J3 & J4 --> K[PrÃ©-analyse par tÃ¢che]
        K --> L{Estimation complexitÃ©}
        L --> L1[ðŸŸ¢ Simple<br/>1-2 fichiers]
        L --> L2[ðŸŸ¡ ModÃ©rÃ©<br/>3-5 fichiers]
        L --> L3[ðŸ”´ Critique<br/>6+ fichiers]
    end

    subgraph DASHBOARD["ðŸ“‹ Dashboard tÃ¢ches"]
        L1 & L2 & L3 --> M[Liste des tÃ¢ches avec badges]
        M --> N{SÃ©lection d'une tÃ¢che}
    end

    subgraph AGENT["ðŸ¤– Agent d'analyse profonde"]
        N --> O[Lancement Agent]
        O --> P[Exploration du repo]
        P --> P1[Lecture fichiers pertinents]
        P --> P2[Analyse des dÃ©pendances]
        P --> P3[DÃ©tection patterns existants]
        P1 & P2 & P3 --> Q[GÃ©nÃ©ration plan d'action]
        Q --> Q1[Fichiers Ã  crÃ©er]
        Q --> Q2[Fichiers Ã  modifier + lignes]
        Q --> Q3[Ã‰tapes dÃ©taillÃ©es]
        Q --> Q4[Risques identifiÃ©s]
    end

    subgraph OUTPUT["ðŸ“¤ CrÃ©ation de la tÃ¢che"]
        Q1 & Q2 & Q3 & Q4 --> R[PrÃ©visualisation tÃ¢che enrichie]
        R --> S{Export vers}
        S --> S1[GitHub Issue]
        S --> S2[Notion]
        S --> S3[Jira]
        S --> S4[Linear]
        S --> S5[Copie manuelle]
    end

    subgraph ITERATION["ðŸ”„ ItÃ©ration"]
        S1 & S2 & S3 & S4 & S5 --> T[Retour au dashboard]
        T --> N
    end

    style ONBOARDING fill:#1a1a2e,stroke:#4a4a6a,color:#fff
    style INDEXATION fill:#16213e,stroke:#4a4a6a,color:#fff
    style INPUT fill:#0f3460,stroke:#4a4a6a,color:#fff
    style EXTRACTION fill:#1a1a2e,stroke:#4a4a6a,color:#fff
    style IMPACT fill:#16213e,stroke:#4a4a6a,color:#fff
    style DASHBOARD fill:#0f3460,stroke:#4a4a6a,color:#fff
    style AGENT fill:#1a1a2e,stroke:#4a4a6a,color:#fff
    style OUTPUT fill:#16213e,stroke:#4a4a6a,color:#fff
    style ITERATION fill:#0f3460,stroke:#4a4a6a,color:#fff
